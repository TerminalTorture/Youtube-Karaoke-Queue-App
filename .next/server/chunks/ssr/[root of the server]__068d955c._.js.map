{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/LeeJR/Downloads/Youtube-Karaoke-Queue-App/src/components/QueueYouTubeLinks.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\ninterface QueueYouTubeLinksProps {\r\n  onPlayVideo: (videoId: string) => void;\r\n}\r\n\r\ninterface QueueItem {\r\n  link: string;\r\n  username: string;\r\n}\r\n\r\nconst QueueYouTubeLinks: React.FC<QueueYouTubeLinksProps> = ({ onPlayVideo }) => {\r\n  const [queueItems, setQueueItems] = useState<QueueItem[]>([]);\r\n  const [newLink, setNewLink] = useState<string>('');\r\n  const [username, setUsername] = useState<string>('');\r\n  const wsRef = useRef<WebSocket | null>(null);\r\n\r\n  useEffect(() => {\r\n    const ws = new WebSocket('ws://localhost:3001');\r\n    wsRef.current = ws;\r\n\r\n    ws.onmessage = (e) => {\r\n      try {\r\n        const msg = JSON.parse(e.data);\r\n        if (msg.type === 'queue') {\r\n          setQueueItems(msg.queue);\r\n        } else if (msg.type === 'play') {\r\n          onPlayVideo(msg.videoId);\r\n        }\r\n      } catch (err) {\r\n        console.error('WS message error', err);\r\n      }\r\n    };\r\n\r\n    return () => {\r\n      ws.close();\r\n    };\r\n  }, [onPlayVideo]);\r\n\r\n  const sendMessage = (data: any) => {\r\n    if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\r\n      wsRef.current.send(JSON.stringify(data));\r\n    }\r\n  };\r\n\r\n  // Extract YouTube video ID from various URL formats\r\n  const extractVideoId = (url: string): string | null => {\r\n    // Handle different YouTube URL formats\r\n    const patterns = [\r\n      /(?:https?:\\/\\/)?(?:www\\.)?youtube\\.com\\/watch\\?v=([^&]+)/i,  // Standard youtube.com/watch?v=ID\r\n      /(?:https?:\\/\\/)?(?:www\\.)?youtu\\.be\\/([^?]+)/i,              // Short youtu.be/ID\r\n      /(?:https?:\\/\\/)?(?:www\\.)?youtube\\.com\\/embed\\/([^?]+)/i,    // Embed youtube.com/embed/ID\r\n      /^([a-zA-Z0-9_-]{11})$/                                       // Just the ID\r\n    ];\r\n    \r\n    for (const pattern of patterns) {\r\n      const match = url.match(pattern);\r\n      if (match && match[1]) {\r\n        return match[1];\r\n      }\r\n    }\r\n    \r\n    return url; // If no pattern matches, assume the input is already an ID\r\n  };\r\n\r\n  const handleAddLink = () => {\r\n    if (newLink.trim()) {\r\n      const linkToAdd = newLink;\r\n      const wasQueueEmpty = queueItems.length === 0;\r\n\r\n      const updated = [...queueItems, { link: linkToAdd, username: username.trim() || 'Anonymous' }];\r\n      setQueueItems(updated);\r\n      sendMessage({ type: 'queue', queue: updated });\r\n      setNewLink('');\r\n\r\n      if (wasQueueEmpty) {\r\n        handlePlayVideo(linkToAdd);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRemoveItem = (index: number) => {\r\n    setQueueItems((items) => items.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleMoveItemUp = (index: number) => {\r\n    if (index <= 0) return;\r\n    setQueueItems((items) => {\r\n      const newItems = [...items];\r\n      [newItems[index - 1], newItems[index]] = [newItems[index], newItems[index - 1]];\r\n      return newItems;\r\n    });\r\n  };\r\n\r\n  const handleMoveItemDown = (index: number) => {\r\n    setQueueItems((items) => {\r\n      if (index >= items.length - 1) return items;\r\n      const newItems = [...items];\r\n      [newItems[index], newItems[index + 1]] = [newItems[index + 1], newItems[index]];\r\n      return newItems;\r\n    });\r\n  };\r\n\r\n  const handlePlayVideo = (link: string) => {\r\n    const videoId = extractVideoId(link);\r\n    \r\n    // Call the local player function\r\n    onPlayVideo(videoId || link);\r\n\r\n    sendMessage({ type: 'play', videoId: videoId || link });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-4 space-y-2\">\r\n        <div>\r\n          <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Your Name\r\n          </label>\r\n          <input\r\n            id=\"username\"\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            placeholder=\"Enter your name\"\r\n            className=\"border p-2 w-full rounded text-black\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label htmlFor=\"youtube-link\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            YouTube Link\r\n          </label>\r\n          <input\r\n            id=\"youtube-link\"\r\n            type=\"text\"\r\n            value={newLink}\r\n            onChange={(e) => setNewLink(e.target.value)}\r\n            placeholder=\"Enter YouTube link or video ID\"\r\n            className=\"border p-2 w-full rounded text-black\"\r\n          />\r\n        </div>\r\n        \r\n        <button \r\n          onClick={handleAddLink} \r\n          className=\"bg-blue-500 text-white p-2 w-full rounded\"\r\n          disabled={!newLink.trim()}\r\n        >\r\n          Add to Queue\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"mt-4 mb-2 p-3 bg-gray-100 rounded-lg border border-gray-200\">\r\n        <p className=\"text-gray-700\">\r\n          Open the <a href=\"/player\" target=\"_blank\" className=\"text-blue-600 font-medium underline\">player screen</a> on another device or window\r\n        </p>\r\n      </div>\r\n      \r\n      <div className=\"mt-6\">\r\n        <h3 className=\"text-lg font-semibold mb-2\">Queue ({queueItems.length})</h3>\r\n        {queueItems.length === 0 ? (\r\n          <p className=\"text-gray-500 italic\">No songs in queue. Add some!</p>\r\n        ) : (\r\n          <ul className=\"space-y-2\">\r\n            {queueItems.map((item, index) => (\r\n              <li key={index} className=\"p-3 bg-gray-50 rounded border border-gray-200 flex items-center space-x-2\">\r\n                <button\r\n                  onClick={() => handlePlayVideo(item.link)}\r\n                  className=\"bg-green-500 text-white px-3 py-1 rounded flex-shrink-0\"\r\n                >\r\n                  Play\r\n                </button>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"truncate text-gray-800\">{item.link}</p>\r\n                  <p className=\"text-sm text-gray-500\">Added by: {item.username}</p>\r\n                </div>\r\n                <div className=\"flex-shrink-0 flex space-x-1\">\r\n                  <button\r\n                    onClick={() => handleMoveItemUp(index)}\r\n                    className=\"bg-gray-200 text-gray-700 px-2 py-1 rounded\"\r\n                    aria-label=\"Move up\"\r\n                  >\r\n                    â†‘\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleMoveItemDown(index)}\r\n                    className=\"bg-gray-200 text-gray-700 px-2 py-1 rounded\"\r\n                    aria-label=\"Move down\"\r\n                  >\r\n                    â†“\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleRemoveItem(index)}\r\n                    className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                    aria-label=\"Remove\"\r\n                  >\r\n                    âœ•\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueueYouTubeLinks;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/LeeJR/Downloads/Youtube-Karaoke-Queue-App/src/app/queue/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport QueueYouTubeLinks from '../../components/QueueYouTubeLinks';\r\n\r\nconst QueuePage: React.FC = () => {\r\n  const handlePlayVideo = (videoId: string) => {\r\n    localStorage.setItem('currentVideoId', videoId);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">ðŸŽ¤ Karaoke Queue Manager</h1>\r\n      \r\n      <div className=\"bg-gray-100 p-6 rounded-lg shadow-md border border-gray-200\">\r\n        <h2 className=\"text-2xl font-bold mb-4 text-blue-600\">Queue</h2>\r\n        <QueueYouTubeLinks onPlayVideo={handlePlayVideo} />\r\n      </div>\r\n      \r\n      <div className=\"mt-6 p-4 text-center bg-blue-100 border border-blue-300 rounded-lg\">\r\n        <p className=\"text-blue-800\">\r\n          Use this page to manage the queue while the \r\n          <a href=\"/player\" target=\"_blank\" className=\"text-blue-600 font-bold px-1 underline\">player screen</a>\r\n          displays on another device\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueuePage;"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKA,MAAM,YAAsB;IAC1B,MAAM,kBAAkB,CAAC;QACvB,aAAa,OAAO,CAAC,kBAAkB;IACzC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAsC;;;;;;0BAEpD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC,uIAAA,CAAA,UAAiB;wBAAC,aAAa;;;;;;;;;;;;0BAGlC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;;wBAAgB;sCAE3B,8OAAC;4BAAE,MAAK;4BAAU,QAAO;4BAAS,WAAU;sCAAyC;;;;;;wBAAiB;;;;;;;;;;;;;;;;;;AAMhH;uCAEe","debugId":null}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/LeeJR/Downloads/Youtube-Karaoke-Queue-App/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/LeeJR/Downloads/Youtube-Karaoke-Queue-App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/LeeJR/Downloads/Youtube-Karaoke-Queue-App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}